# Монитор сетевых соединений (Netstat Monitor)
**Лабораторная работа №3 | Вариант 8**

**Разработчик:** Калинин Владислав Михайлович

## 1. Где скачать готовую программу
Если вы не хотите собирать программу вручную, вы можете скачать уже проверенную и собранную версию с серверов GitHub:

1.  Откройте вкладку **Actions** в этом репозитории (вверху страницы).
2.  Нажмите на самый верхний **зеленый** запуск в списке (это последняя успешная версия).
3.  Прокрутите открывшуюся страницу в самый низ до раздела **Artifacts**.
4.  Нажмите на `netstat-app-windows-latest` (для Windows) или `netstat-app-ubuntu-latest` (для Linux).
5.  Скачается ZIP-архив. **Распакуйте его** в любую удобную папку. Внутри будет файл с расширением `.jar` — это и есть программа.

---

## 2. О проекте

**Netstat Monitor** — это консольное приложение, которое анализирует сетевую активность вашего компьютера. Оно автоматически запускает системную утилиту `netstat`, считывает её вывод и формирует понятный отчет.

**Возможности:**
1.  Показывает, какие программы "слушают" порты (ждут входящих соединений).
2.  Показывает активные подключения к интернету (с кем соединен компьютер).
3.  Проверяет, занят ли конкретный порт (например, 8080), который вы укажете в настройках.

Программа **кроссплатформенная**: она автоматически определяет вашу систему (Windows или Linux) и запускает нужные команды.

---

## 3. Подготовка к работе

Для запуска программы (или для её сборки вручную) на компьютере должна быть установлена **Java версии 21**.

### Шаг 1. Проверка наличия Java
1.  Нажмите на клавиатуре `Win` + `R`.
2.  В окне введите `cmd` и нажмите **Enter**.
3.  В черном окне напишите команду:
    ```bash
    java -version
    ```

**Результат:**
*   Если видите текст `openjdk version "21..."` — **всё отлично**, переходите к следующему разделу.
*   Если видите ошибку или версию ниже 21 (например, 1.8, 11) — нужно установить Java.

### Шаг 2. Установка Java (если нужно)
Скачайте и установите JDK 21 с официального сайта Oracle:
https://www.oracle.com/java/technologies/downloads/#java21

---

## 4. Сборка проекта (Создание файла вручную)

Если вы скачали исходный код и хотите сами создать запускаемый файл `.jar`:

1.  Откройте папку с проектом (где лежат файлы `gradlew`, `src`).
2.  Нажмите на **адресную строку** папки (сверху, где написан путь, например `E:\Projects\NetstatMonitor`).
3.  Сотрите всё, напишите там `cmd` и нажмите **Enter**. Откроется командная строка в этой папке.
4.  Введите команду сборки:

**Для Windows:**
```cmd
gradlew build
```

**Для Linux / macOS:**
```bash
./gradlew build
```

5.  Дождитесь сообщения **BUILD SUCCESSFUL**.

**Где искать готовый файл:**
После успешной сборки зайдите в папку `build`, затем в папку `libs`.
Там появится файл `NetstatMonitor-1.0-SNAPSHOT.jar`. Это и есть ваша готовая программа.

---

## 5. Настройка (Файл app.properties)

Перед запуском программе нужно задать настройки. Она ищет их в файле `app.properties` рядом с собой.

1.  В папке, где лежит ваш `.jar` файл (или в корне проекта), создайте текстовый файл.
2.  Переименуйте его в `app.properties` (убедитесь, что расширение именно `.properties`, а не `.txt`).
3.  Откройте его Блокнотом и вставьте следующий текст:

```properties
# Какой порт проверить на занятость? (Задание №3)
monitor.port.check=8080

# Режим отчета:
# VERBOSE - подробный (показать всё)
# SUMMARY - краткий (только важное)
output.mode=VERBOSE
```

4.  Сохраните файл.

---

## 6. Запуск приложения

**Важно:** Чтобы программа увидела все системные процессы, командную строку лучше запускать **от имени Администратора**.

1.  Откройте командную строку в папке, где лежит `.jar` файл и `app.properties`.
2.  Введите команду:

```bash
java -jar build/libs/NetstatMonitor-1.0-SNAPSHOT.jar
```
*(Примечание: если вы переместили файл в другую папку, путь `build/libs/` писать не нужно, просто имя файла).*

3.  В консоли появится отчет.

**Пример работы:**
```text
Mode: VERBOSE

--- Listening Ports (Ожидают соединений) ---
PID: 1234, Process: mysqld, Port: 3306
PID: 80, Process: nginx, Port: 80

--- External Connections (Внешние связи) ---
PID: 5678, Process: java, Foreign: 104.18.3.10:443

--- Port 8080 Check ---
Port 8080 is not in use.
```

---

## 7. Проверка кода (Тесты)

В проект встроены автоматические тесты, проверяющие правильность работы функций.

1.  В командной строке в папке проекта введите:
    ```bash
    gradlew test
    ```
2.  Сообщение **BUILD SUCCESSFUL** означает, что ошибок в коде нет.

---

## 8. Автоматизация (CI/CD)

Этот проект подключен к системе **GitHub Actions**.
Это значит, что при каждом обновлении кода на сайте GitHub автоматически происходят следующие действия:
1.  Запускаются виртуальные машины на **Windows** и **Ubuntu**.
2.  Устанавливается Java.
3.  Проводится сборка и тестирование проекта.
4.  Создается готовый файл программы (Artifact), который доступен для скачивания (см. пункт 1).