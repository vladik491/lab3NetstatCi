# Монитор сетевых соединений (Netstat Monitor)
**Лабораторная работа №3 | Вариант 8**

**Разработчик:** Калинин Владислав Михайлович

---

## 1. Где скачать готовую программу
Если вы не хотите собирать программу вручную, вы можете скачать готовую версию с серверов GitHub:

1. Откройте вкладку **Actions** в этом репозитории (вверху страницы).
2. Нажмите на самый верхний **зеленый** запуск в списке (это последняя успешная версия).
3. Прокрутите открывшуюся страницу в самый низ до раздела **Artifacts**.
4. Нажмите на `netstat-app-windows-latest` (если у вас Windows) или `netstat-app-ubuntu-latest` (если Linux).
5. Скачается **ZIP-архив**.
    - **Важно:** Не запускайте файлы внутри архива.
    - Нажмите на архив правой кнопкой мыши -> "Извлечь всё" (или "Распаковать").
    - Внутри будет файл `NetstatMonitor-1.0-SNAPSHOT.jar`. Скопируйте его в отдельную папку.

---

## 2. О проекте
**Netstat Monitor** — это приложение, которое показывает, что происходит с сетью на вашем компьютере. Оно автоматически запускает системную команду `netstat`, но показывает результат в понятном виде.

**Что умеет программа:**
1. Показывает программы, которые "слушают" порты (ждут подключений).
2. Показывает, с какими сайтами или серверами соединен компьютер прямо сейчас.
3. Проверяет, свободен ли конкретный порт (например, 8080).

Программа работает и на **Windows**, и на **Linux**.

---

## 3. Подготовка (Установка Java)
Для работы программы на компьютере должна быть установлена **Java версии 21**.

### Шаг 1. Проверка
1. Нажмите клавиши `Win` + `R`.
2. Введите `cmd` и нажмите **Enter**.
3. В черном окне напишите:
   ```bash
   java -version
   ```
    - Если написано `openjdk version "21..."` — **всё отлично**, переходите к разделу 4.
    - Если ошибка или версия ниже 21 — переходите к Шагу 2.

### Шаг 2. Установка
1. Скачайте JDK 21 для Windows (x64 Installer) с официального сайта:
   https://www.oracle.com/java/technologies/downloads/#java21
2. Запустите скачанный `.exe` файл.
3. Нажимайте **Next** -> **Next** -> **Close**.
4. **Обязательно** перезагрузите компьютер после установки.

---

## 4. Настройка (Файл app.properties)
Программе нужен файл настроек, чтобы знать, какой порт проверять. Этот файл должен лежать **рядом** с файлом `.jar`.

1. В папке с программой создайте текстовый файл.
2. Переименуйте его в `app.properties`.
    - *Внимание:* Убедитесь, что файл называется именно `app.properties`, а не `app.properties.txt`.
3. Откройте его Блокнотом и вставьте текст:

```properties
# Порт для проверки (Задание №3)
monitor.port.check=8080

# Режим отчета: VERBOSE (подробно) или SUMMARY (кратко)
output.mode=VERBOSE
```
4. Сохраните файл.

---

## 5. Запуск приложения
Теперь у вас в папке два файла: программа (`.jar`) и настройки (`.properties`).

**Как запустить:**
1. Кликните мышкой по **адресной строке** этой папки (сверху, где написан путь к папке).
2. Сотрите всё, напишите слово `cmd` и нажмите **Enter**. Откроется черное окно.
3. Введите команду:
   ```bash
   java -jar NetstatMonitor-1.0-SNAPSHOT.jar
   ```
4. Нажмите **Enter**. Вы увидите отчет о работе сети.

*Совет: Для более точных данных командную строку лучше запускать от имени Администратора.*

**Пример результата:**
```text
Mode: VERBOSE

--- Listening Ports ---
PID: 1234, Process: mysqld, Port: 3306

--- External Connections ---
PID: 5678, Process: chrome, Foreign: 104.18.3.10:443

--- Port 8080 Check ---
Port 8080 is not in use.
```

---

## 6. Сборка вручную (Для разработчиков)
Если вы скачали исходный код проекта, вы можете собрать файл `.jar` самостоятельно.

1. Откройте папку проекта в командной строке.
2. Введите команду:
    - Windows: `gradlew build`
    - Linux: `./gradlew build`
3. Готовый файл появится в папке `build/libs`.

---

## 7. Автоматизация (CI/CD)
В проекте настроен **GitHub Actions**. При каждом обновлении кода на сайте GitHub:
1. Робот запускает виртуальные машины на Windows и Linux.
2. Устанавливает Java и проверяет код тестами.
3. Собирает готовый файл программы (тот самый, который вы скачиваете в разделе 1).